-# !new_record? => /devices/123456789
-# new_record? => /devices
%form(action="/devices#{ !device.new_record? ? "/#{device.id}" : ""}" method="post")
 %p
  %label(for="device_name") Name
  %input(type="text" id="device_name" value="#{device.name}" name="device[name]" class="form-control")

 %p
  %label(for="device_ip") IP Address
  %input(type="text" id="device_ip" value="#{device.ip}" name="device[ip]"  class="form-control")

 %p
  %label(for="device_serial") Serial Number
  %input(type="text" id="device_serial" value="#{device.serial}" name="device[serial]"  class="form-control")

 %p
  %label(for="device_model") Model Number
  %input(type="text" id="device_model" value="#{device.model}" name="device[model]"  class="form-control")
 
 %p
  %label(for="device_description") Description
  %textarea(name="device[description]" class="form-control")
   =device.description

 %p
  -unless device.new_record?
   %input(type="hidden" name="_method" value="put") 
  -if device.new_record? 
   %button.btn.btn-primary
    Add Device 
  -else
   %button.btn.btn-primary
    Update Device
   %p
   %a{href: "http://localhost:9393/devices/#{params[:id]}/update_data?ip=#{device.ip}"} Get Data
